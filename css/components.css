/* ===== BUTTONS ===== */
.btn{display:flex;align-items:center;gap:8px;padding:9px 16px;background:linear-gradient(135deg,rgba(74,157,111,.15),rgba(156,175,136,.08));border:1px solid rgba(74,157,111,.3);border-radius:10px;color:var(--primary);font-size:12px;font-weight:500;cursor:pointer;transition:all .3s;position:relative;overflow:hidden;font-family:inherit}
.btn:hover{background:linear-gradient(135deg,rgba(74,157,111,.25),rgba(156,175,136,.15));box-shadow:0 0 20px rgba(74,157,111,.15);transform:translateY(-1px)}
.btn input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer}
.btn svg{width:14px;height:14px;stroke:currentColor;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
.btn-danger{border-color:rgba(251,113,133,.3);color:var(--rose);background:rgba(251,113,133,.08)}
.btn-danger:hover{background:rgba(251,113,133,.15);box-shadow:0 0 20px rgba(251,113,133,.15)}
.btn-sm{padding:6px 12px;font-size:11px;border-radius:8px}
.icon-btn{padding:8px;border:1px solid var(--border);background:rgba(255,255,255,.04);border-radius:8px;color:var(--text2);cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center}
.icon-btn:hover{color:var(--primary);border-color:rgba(74,157,111,.3)}
.icon-btn svg{width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}

/* ===== FILTER BAR ===== */
.filter-bar{display:flex;align-items:center;gap:10px;margin-bottom:20px;flex-wrap:wrap;padding:12px 16px;background:var(--glass);border:1px solid var(--border);border-radius:var(--r);backdrop-filter:blur(16px)}
.filter-group{display:flex;align-items:center;gap:4px;background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:8px;padding:3px}
.filter-btn{padding:6px 12px;border:none;background:transparent;color:var(--text2);font-size:11px;font-weight:500;cursor:pointer;border-radius:6px;transition:all .2s;font-family:inherit;white-space:nowrap}
.filter-btn:hover{color:var(--text)}
.filter-btn.active{background:linear-gradient(135deg,rgba(74,157,111,.2),rgba(156,175,136,.1));color:var(--primary)}
.filter-select{padding:6px 10px;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:11px;font-family:inherit;outline:none;cursor:pointer}
.filter-select option{background:var(--bg);color:var(--text)}
.filter-date{padding:5px 8px;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:11px;font-family:inherit;outline:none}
.filter-date::-webkit-calendar-picker-indicator{filter:invert(.5)}
.filter-sep{color:var(--text3);font-size:11px}
.filter-reset{padding:4px 8px;border:1px solid var(--border);background:transparent;border-radius:6px;color:var(--text3);cursor:pointer;font-size:12px;transition:all .2s;line-height:1}
.filter-reset:hover{color:var(--rose);border-color:rgba(251,113,133,.3)}

/* ===== MAIN ===== */
.main{position:relative;z-index:1;padding:24px 32px;max-width:1600px;margin:0 auto;margin-left:var(--sidebar-w);transition:margin-left .3s}
.glass{background:var(--glass);backdrop-filter:blur(16px);border:1px solid var(--card-border);border-radius:var(--r);transition:border-color .3s;box-shadow:var(--shadow)}
.glass:hover{border-color:rgba(74,157,111,.15)}

/* ===== EMPTY STATE ===== */
.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:65vh}
.drop-zone{width:100%;max-width:520px;padding:60px 40px;cursor:pointer;position:relative;text-align:center;background:var(--glass);backdrop-filter:blur(20px);border-radius:20px;border:2px dashed rgba(74,157,111,.3);transition:all .3s}
.drop-zone.drag-over{border-color:var(--primary);background:rgba(74,157,111,.05)}
.drop-zone input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer;z-index:2}
.drop-icon{width:72px;height:72px;margin:0 auto 24px;border-radius:18px;display:flex;align-items:center;justify-content:center;background:rgba(74,157,111,.1);border:1px solid rgba(74,157,111,.2)}
.drop-icon svg{width:32px;height:32px;stroke:var(--primary);fill:none;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round}
.drop-zone h2{font-size:22px;font-weight:700;margin-bottom:8px;color:var(--primary)}
.drop-zone p{color:var(--text2);font-size:13px}
.drop-zone .ft{margin-top:20px;font-size:11px;color:var(--text3);padding:6px 14px;background:rgba(255,255,255,.03);border-radius:20px;display:inline-block}

/* ===== DASHBOARD ===== */
.dashboard{display:none}
.page-section{display:none}.page-section.active{display:block}
.stats-bar{display:flex;align-items:center;gap:16px;margin-bottom:16px;font-size:12px;color:var(--text2);flex-wrap:wrap}
.stats-bar .stat{display:flex;align-items:center;gap:6px}.stats-bar .stat b{color:var(--primary);font-weight:600}

/* ===== KPI GRID ===== */
.kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:14px;margin-bottom:20px}
.kpi-card{padding:18px;position:relative;overflow:hidden}
.kpi-card::after{content:'';position:absolute;top:0;left:0;right:0;height:2px;opacity:.8}
.kpi-card:nth-child(1)::after{background:linear-gradient(90deg,var(--primary),transparent)}
.kpi-card:nth-child(2)::after{background:linear-gradient(90deg,var(--secondary),transparent)}
.kpi-card:nth-child(3)::after{background:linear-gradient(90deg,var(--accent),transparent)}
.kpi-card:nth-child(4)::after{background:linear-gradient(90deg,var(--amber),transparent)}
.kpi-card:nth-child(5)::after{background:linear-gradient(90deg,var(--green),transparent)}
.kpi-card:nth-child(6)::after{background:linear-gradient(90deg,var(--rose),transparent)}
.kpi-card:nth-child(7)::after{background:linear-gradient(90deg,var(--primary),var(--secondary),transparent)}
.kpi-card:nth-child(8)::after{background:linear-gradient(90deg,var(--secondary),var(--accent),transparent)}
.kpi-label{font-size:10px;color:var(--text2);font-weight:500;text-transform:uppercase;letter-spacing:.08em;margin-bottom:4px}
.kpi-row{display:flex;align-items:flex-end;justify-content:space-between;gap:8px}
.kpi-value{font-size:24px;font-weight:800;letter-spacing:-.03em;line-height:1;font-variant-numeric:tabular-nums}
.kpi-unit{font-size:11px;color:var(--text2);font-weight:400;margin-left:3px}
.kpi-change{display:inline-flex;align-items:center;gap:3px;margin-top:6px;padding:2px 8px;border-radius:20px;font-size:10px;font-weight:600}
.kpi-change.up{color:var(--green);background:rgba(34,197,94,.1)}.kpi-change.down{color:var(--rose);background:rgba(251,113,133,.1)}
.kpi-sub{font-size:10px;color:var(--text3);margin-top:3px}
.sparkline-wrap{width:80px;height:30px}
.sparkline-wrap canvas{width:80px;height:30px}
.neon-primary .kpi-value{color:var(--primary)}.neon-secondary .kpi-value{color:var(--secondary)}
.neon-accent .kpi-value{color:var(--accent)}.neon-green .kpi-value{color:var(--green)}
.neon-amber .kpi-value{color:var(--amber)}.neon-rose .kpi-value{color:var(--rose)}

/* ===== INSIGHTS ===== */
.insights-bar{display:flex;gap:12px;margin-bottom:20px;flex-wrap:wrap}
.insight-chip{display:flex;align-items:center;gap:8px;padding:8px 14px;background:var(--glass);border:1px solid var(--border);border-radius:10px;font-size:12px;color:var(--text2)}
.insight-chip svg{width:14px;height:14px;stroke:var(--primary);fill:none;stroke-width:2}

/* ===== CHARTS ===== */
.chart-row{display:grid;gap:14px;margin-bottom:20px}.chart-row.cols-2{grid-template-columns:1fr 1fr}
.chart-card{padding:22px;position:relative}
.chart-hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;gap:10px}
.chart-hdr h3{font-size:14px;font-weight:600}.chart-hdr small{font-size:11px;color:var(--text3);display:block;margin-top:2px}
.chart-hdr-actions{display:flex;align-items:center;gap:6px}
.chart-wrap{position:relative;width:100%;height:350px}.chart-wrap.medium{height:300px}
.chart-wrap canvas{display:block}
.toggle{display:flex;background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:8px;padding:3px}
.toggle button{padding:5px 12px;border:none;background:transparent;color:var(--text2);font-size:11px;font-weight:500;cursor:pointer;border-radius:6px;transition:all .2s;white-space:nowrap;font-family:inherit}
.toggle button.active{background:linear-gradient(135deg,rgba(74,157,111,.2),rgba(156,175,136,.1));color:var(--primary)}

/* ===== TABLE ===== */
.tbl-wrap{overflow-x:auto;max-height:400px;overflow-y:auto;margin-top:8px}
table.tbl{width:100%;border-collapse:collapse;font-size:12px}
.tbl th,.tbl td{padding:10px 14px;text-align:right}
.tbl th{font-weight:600;color:var(--text3);text-transform:uppercase;letter-spacing:.06em;font-size:10px;border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--glass)}
.tbl th:first-child,.tbl td:first-child{text-align:left}
.tbl td{font-variant-numeric:tabular-nums;border-bottom:1px solid rgba(255,255,255,.03)}
.tbl tr:hover td{background:rgba(74,157,111,.04)}
.badge{display:inline-flex;align-items:center;padding:2px 8px;border-radius:20px;font-size:11px;font-weight:600}
.badge.up{color:var(--green);background:rgba(34,197,94,.08)}.badge.down{color:var(--rose);background:rgba(251,113,133,.08)}

/* ===== MODALS ===== */
.modal-overlay{display:none;position:fixed;inset:0;z-index:250;background:rgba(15,20,25,.8);backdrop-filter:blur(8px);align-items:center;justify-content:center}
.modal-overlay.on{display:flex}
.modal{width:90%;max-width:800px;max-height:85vh;overflow-y:auto;background:var(--bg);border:1px solid var(--border);border-radius:20px;padding:28px}
.modal h3{font-size:16px;font-weight:700;margin-bottom:16px;color:var(--primary)}
.modal-close{float:right;background:none;border:none;color:var(--text2);font-size:20px;cursor:pointer;padding:4px 8px}
.modal-close:hover{color:var(--rose)}
.target-input{display:flex;align-items:center;gap:10px;margin-bottom:12px}
.target-input label{font-size:13px;color:var(--text2);min-width:140px}
.target-input input{padding:8px 12px;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:13px;font-family:inherit;width:150px;outline:none}
.target-input input:focus{border-color:rgba(74,157,111,.5)}

/* ===== LOADER / TOAST ===== */
.loader{display:none;position:fixed;inset:0;background:rgba(15,20,25,.85);backdrop-filter:blur(8px);z-index:200;align-items:center;justify-content:center}
.loader.on{display:flex}
.spinner{width:48px;height:48px;border:2px solid rgba(255,255,255,.05);border-top-color:var(--primary);border-right-color:var(--secondary);border-radius:50%;animation:spin .8s linear infinite;margin:0 auto 16px;box-shadow:0 0 20px rgba(74,157,111,.2)}
.toast{position:fixed;top:80px;right:32px;padding:12px 20px;background:var(--glass);backdrop-filter:blur(20px);border:1px solid rgba(34,197,94,.3);border-radius:12px;font-size:13px;color:var(--green);transform:translateX(150%);transition:transform .4s cubic-bezier(.16,1,.3,1);z-index:150}
.toast.on{transform:translateX(0)}.toast.error{color:var(--rose);border-color:rgba(251,113,133,.3)}

/* ===== FULLSCREEN ===== */
.chart-card.fullscreen{position:fixed;inset:20px;z-index:200;background:var(--bg);border-radius:16px;padding:30px;border:1px solid var(--border)}
.chart-card.fullscreen .chart-wrap{height:calc(100% - 60px)}

/* ===== SECTION TITLE ===== */
.section-title{font-size:14px;font-weight:600;margin-bottom:12px;margin-top:24px}

/* ===== PER-PAGE UPLOAD BUTTONS ===== */
.page-upload-btn{display:inline-flex;align-items:center;gap:8px;padding:10px 20px;cursor:pointer;position:relative;overflow:hidden}
.page-upload-btn input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer}
.page-upload-btn svg{width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round}
.btn-primary{background:linear-gradient(135deg,rgba(74,157,111,.25),rgba(74,157,111,.15));border-color:rgba(74,157,111,.4);color:var(--primary);font-weight:600}
.btn-primary:hover{background:linear-gradient(135deg,rgba(74,157,111,.35),rgba(74,157,111,.25));box-shadow:0 0 24px rgba(74,157,111,.2)}
.page-upload-compact{margin-left:auto;white-space:nowrap;display:none}
.page-upload-compact input[type=file]{position:absolute;inset:0;opacity:0;cursor:pointer}
