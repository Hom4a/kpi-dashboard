/* ===== GIS Map Styles ===== */
#gisMap {
    background: var(--card-bg);
}

.gis-tooltip {
    background: rgba(15, 20, 25, 0.92) !important;
    backdrop-filter: blur(10px);
    border: 1px solid var(--border) !important;
    color: #e8e8e8 !important;
    border-radius: 8px !important;
    padding: 8px 12px !important;
    font-family: 'Inter', system-ui, sans-serif !important;
    font-size: 12px !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4) !important;
    line-height: 1.5 !important;
}

.leaflet-tooltip-top:before,
.leaflet-tooltip-bottom:before,
.leaflet-tooltip-left:before,
.leaflet-tooltip-right:before {
    display: none !important;
}

.gis-label {
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    pointer-events: none;
}

/* Leaflet controls dark theme */
.leaflet-control-zoom a {
    background: rgba(15, 20, 25, 0.85) !important;
    color: #ccc !important;
    border-color: var(--border) !important;
}
.leaflet-control-zoom a:hover {
    background: rgba(30, 40, 50, 0.95) !important;
    color: #fff !important;
}

/* ===== Map + Sidebar Layout ===== */
.gis-map-layout {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: 16px;
}

.gis-map-col {
    min-width: 0;
}

.gis-sidebar-col {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* ===== Drill-down ===== */
#gisRegionDetail .chart-row.cols-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
}

#gisRegionDetail .kpi-grid {
    margin-bottom: 12px;
}

/* ===== Responsive ===== */
@media (max-width: 1024px) {
    .gis-map-layout {
        grid-template-columns: 1fr;
    }
    .gis-sidebar-col {
        flex-direction: row;
        flex-wrap: wrap;
    }
    .gis-sidebar-col > .glass {
        flex: 1 1 280px;
    }
}

@media (max-width: 768px) {
    #gisMap { height: 350px !important; }
    #gisRegionDetail .chart-row.cols-2 {
        grid-template-columns: 1fr;
    }
    #gisRegionDetail .kpi-grid {
        grid-template-columns: repeat(2, 1fr) !important;
    }
}

/* ===== Admin Modal ===== */
#gisAdminModal .ga-oblasts label {
    user-select: none;
}

#gisAdminModal .ga-oblasts input[type="checkbox"] {
    accent-color: var(--primary);
}
